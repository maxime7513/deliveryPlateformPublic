<h1>PLANNING</h1>

<div class="date-picker">
  <mat-form-field>
    <mat-label>Choisi une date</mat-label>
    <input readonly matInput [matDatepicker]="picker" (dateChange)="afficherCrenauParDate()" [(ngModel)]="defaultDatePicker">
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>
</div>

<div class="table-planning">
  <table>
    <thead>
      <tr>
        <th *ngFor="let crenau of crenaux | slice:0:valeurSlice">{{ crenau.heureDebut }}/{{ crenau.heureFin }}h</th>
      </tr>
    </thead>
    <tbody *ngIf="crenaux">
      <tr>
        <td *ngFor="let crenau of crenaux | slice:0:valeurSlice" [class.active]="crenau.inscritMax - crenau.inscrit == 0">
          {{ crenau.inscrit }}/{{ crenau.inscritMax}}
          <mat-icon *ngIf="crenau.inscritMax - crenau.inscrit == 0" class="complet">how_to_reg</mat-icon>
          <mat-icon *ngIf="0 < crenau.inscrit" (click)="openDialogModal(crenau)" class="voir_livreur">person_search</mat-icon>
        </td>
      </tr>
    </tbody>
  </table>
  <table *ngIf="responsive != 'grand'">
    <thead>
      <tr>
        <th *ngFor="let crenau of crenaux | slice:valeurSlice:valeurSlice2">{{ crenau.heureDebut }}/{{ crenau.heureFin }}h</th>
      </tr>
    </thead>
    <tbody *ngIf="crenaux">
      <tr>
        <td *ngFor="let crenau of crenaux | slice:valeurSlice:valeurSlice2" [class.active]="crenau.inscritMax - crenau.inscrit == 0">
          {{ crenau.inscrit }}/{{ crenau.inscritMax}}
          <mat-icon *ngIf="crenau.inscritMax - crenau.inscrit == 0" class="complet">how_to_reg</mat-icon>
          <mat-icon *ngIf="0 < crenau.inscrit" (click)="openDialogModal(crenau)" class="voir_livreur">person_search</mat-icon>
        </td>
      </tr>
    </tbody>
  </table>
  
  <table *ngIf="responsive == 'petit'">
    <thead>
      <tr>
        <th *ngFor="let crenau of crenaux | slice:8:12">{{ crenau.heureDebut }}/{{ crenau.heureFin }}h</th>
      </tr>
    </thead>
    <tbody *ngIf="crenaux">
      <tr>
        <td *ngFor="let crenau of crenaux | slice:8:12" [class.active]="crenau.inscritMax - crenau.inscrit == 0">
          {{ crenau.inscrit }}/{{ crenau.inscritMax}}
          <mat-icon *ngIf="crenau.inscritMax - crenau.inscrit == 0" class="complet">how_to_reg</mat-icon>
          <mat-icon *ngIf="0 < crenau.inscrit" (click)="openDialogModal(crenau)" class="voir_livreur">person_search</mat-icon>
          </td>
      </tr>
    </tbody>
  </table>
</div>